
<div>
  <h5>General Settings SMPP-HTTP</h5>
  <form  [formGroup]="form" (ngSubmit)="save()" class="row g-3 d-flex justify-content-center">
    <div class="row mt-5">
      <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12">

        <div class="form-group row mb-2">
            <label for="validity_period" class="col-sm-6 label">Validity Period (Seconds)</label>
            <div class="col-sm-6">
              <input type="number" class="form-control" id="validity_period" formControlName="validity_period"
                [class.is-invalid]="validInput('validity_period')">
              <span class="text-danger mt-2" *ngIf="validInput('validity_period')">
                the field is required
              </span>
              <span class="text-danger mt-2" *ngIf="validPattern('validity_period')">
                {{ getPatternMessage('validity_period') }}
              </span>
            </div>
        </div>

        <div class="form-group row mb-2">
            <label for="max_validity_period" class="col-sm-6 label">Max Validity Period (Seconds)</label>
            <div class="col-sm-6">
              <input type="number" class="form-control" id="max_validity_period" formControlName="max_validity_period"
                [class.is-invalid]="validInput('max_validity_period')">
              <span class="text-danger mt-2" *ngIf="validInput('max_validity_period')">
                the field is required
              </span>
              <span class="text-danger mt-2" *ngIf="validPattern('max_validity_period')">
                {{ getPatternMessage('max_validity_period') }}
              </span>
            </div>
        </div>

        <div class="form-group row mb-2">
            <label for="source_addr_ton" class="col-sm-6 label">Source Address TON</label>
            <div class="col-sm-6">
              <select class="form-select" id="source_addr_ton" formControlName="source_addr_ton">
                @for (item of tonCatalog; track $index) {
                <option value="{{ item.id }}">{{ item.description }}</option>
                }
              </select>
              <span class="text-danger mt-2" *ngIf="validInput('source_addr_ton')">
                the field is required
              </span>
              <span class="text-danger mt-2" *ngIf="validPattern('source_addr_ton')">
                {{ getPatternMessage('source_addr_ton') }}
              </span>
            </div>
        </div>

        <div class="form-group row mb-2">
            <label for="source_addr_npi" class="col-sm-6 label">Source Address NPI</label>
            <div class="col-sm-6">
              <select class="form-select" id="source_addr_npi" formControlName="source_addr_npi">
                @for (item of npiCatalog; track $index) {
                <option value="{{ item.id }}">{{ item.description }}</option>
                }
              </select>
              <span class="text-danger mt-2" *ngIf="validInput('source_addr_npi')">
                the field is required
              </span>
              <span class="text-danger mt-2" *ngIf="validPattern('source_addr_npi')">
                {{ getPatternMessage('source_addr_npi') }}
              </span>
            </div>
        </div>

        <div class="form-group row mb-2">
            <label for="dest_addr_ton" class="col-sm-6 label">Destination Address TON</label>
            <div class="col-sm-6">
              <select class="form-select" id="dest_addr_ton" formControlName="dest_addr_ton">
                @for (item of tonCatalog; track $index) {
                <option value="{{ item.id }}">{{ item.description }}</option>
                }
              </select>
              <span class="text-danger mt-2" *ngIf="validInput('dest_addr_ton')">
                the field is required
              </span>
              <span class="text-danger mt-2" *ngIf="validPattern('dest_addr_ton')">
                {{ getPatternMessage('dest_addr_ton') }}
              </span>
            </div>
        </div>

        <div class="form-group row mb-2">
            <label for="dest_addr_npi" class="col-sm-6 label">Destination Address NPI</label>
            <div class="col-sm-6">
              <select class="form-select" id="dest_addr_npi" formControlName="dest_addr_npi">
                @for (item of npiCatalog; track $index) {
                <option value="{{ item.id }}">{{ item.description }}</option>
                }
              </select>
              <span class="text-danger mt-2" *ngIf="validInput('dest_addr_npi')">
                the field is required
              </span>
              <span class="text-danger mt-2" *ngIf="validPattern('dest_addr_npi')">
                {{ getPatternMessage('dest_addr_npi') }}
              </span>
            </div>
        </div>

    </div>
  <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 position-relative">

    <div class="form-group row mb-2">
      <label for="encoding_gsm7" class="col-sm-6 label">Encoding for DCS-0</label>
      <div class="col-sm-6">
        <select class="form-select" id="encoding_gsm7" formControlName="encoding_gsm7">
          @for (item of encodingList; track $index) {
          <option value="{{ item.id }}">{{ item.name }}</option>
          }
        </select>
        <span class="text-danger mt-2" *ngIf="validInput('encoding_gsm7')">
          the field is required
        </span>
        <span class="text-danger mt-2" *ngIf="validPattern('encoding_gsm7')">
          {{ getPatternMessage('encoding_gsm7') }}
        </span>
      </div>
    </div>

    <div class="form-group row mb-2">
      <label for="encoding_iso88591" class="col-sm-6 label">Encoding for DCS-3</label>
      <div class="col-sm-6">
        <select class="form-select" id="encoding_iso88591" formControlName="encoding_iso88591">
          @for (item of encodingList; track $index) {
          <option value="{{ item.id }}">{{ item.name }}</option>
          }
        </select>
        <span class="text-danger mt-2" *ngIf="validInput('encoding_iso88591')">
          the field is required
        </span>
        <span class="text-danger mt-2" *ngIf="validPattern('encoding_iso88591')">
          {{ getPatternMessage('encoding_iso88591') }}
        </span>
      </div>
    </div>

    <div class="form-group row mb-2">
      <label for="encoding_ucs2" class="col-sm-6 label">Encoding for DCS-8</label>
      <div class="col-sm-6">
        <select class="form-select" id="encoding_ucs2" formControlName="encoding_ucs2">
          @for (item of encodingList; track $index) {
          <option value="{{ item.id }}">{{ item.name }}</option>
          }
        </select>
        <span class="text-danger mt-2" *ngIf="validInput('encoding_ucs2')">
          the field is required
        </span>
        <span class="text-danger mt-2" *ngIf="validPattern('encoding_ucs2')">
          {{ getPatternMessage('encoding_ucs2') }}
        </span>
      </div>
    </div>   
    
    <div class="row position-absolute bottom-0 end-0 mt-2 div-btn-settings">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 d-flex mb-2 me-2">
            <button class="btn btn-red" [disabled]="form.invalid">Save</button>
        </div>
    </div>

  </div>
</div>

    
  </form>
</div>

<!-- Retries and validity period -->
<hr class="mt-4">
<div class="mt-2">
  <app-retries />
</div>

<!-- SMPP Settings -->
<hr class="mt-4">
<div class="mt-2">
  <h5>SMSC Settings</h5>

  <form [formGroup]="formSmscSetting" (ngSubmit)="saveSmscSetting()" class="row g-3 d-flex justify-content-center">
    <div class="row mt-5">
      <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12">
        <div class="form-group row mb-2">
          <label for="max_password_length" class="col-sm-6 label">Max Password Length</label>
          <div class="col-sm-6">
            <input type="number" class="form-control" id="max_password_length" formControlName="max_password_length"
              [class.is-invalid]="validInput('max_password_length')">
            <span class="text-danger mt-2" *ngIf="validInput('max_password_length')">
              the field is required
            </span>
            <span class="text-danger mt-2" *ngIf="validPattern('max_password_length')">
              {{ getPatternMessage('max_password_length') }}
            </span>
          </div>
        </div>
        <div class="form-group row mb-2">
          <label class="form-check-label col-sm-6" for="use_local_charging">Enabled Credit</label>
          <div class="col-sm-6">
            <div class="form-check form-switch d-flex justify-content-end p-0 w-100">
              <input class="form-check-input float-end" type="checkbox" id="use_local_charging"
                name="use_local_charging" formControlName="use_local_charging">
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12">
        <div class="form-group row mb-2">
          <label for="max_system_id_length" class="col-sm-6 label">Max System ID Length</label>
          <div class="col-sm-6">
            <input type="number" class="form-control" id="max_system_id_length" formControlName="max_system_id_length"
              [class.is-invalid]="validInput('max_system_id_length')">
            <span class="text-danger mt-2" *ngIf="validInput('max_system_id_length')">
              the field is required
            </span>
            <span class="text-danger mt-2" *ngIf="validPattern('max_system_id_length')">
              {{ getPatternMessage('max_system_id_length') }}
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 d-flex justify-content-end mt-2">
        <button [disabled]="formSmscSetting.invalid" class="btn btn-red">Save</button>
      </div>
    </div>
  </form>
  
</div>